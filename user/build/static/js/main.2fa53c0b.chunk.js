(this.webpackJsonpuser=this.webpackJsonpuser||[]).push([[0],{12:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s.n(n),a=s(3),i=s.n(a),o=(s(9),s(4)),l=s(0);var r=function(){var e=Object(n.useState)({userName:"user XXX",lastMessage:{message:"ZZZ",userName:"user YYY",date:Date.now()}}),t=Object(o.a)(e,2),s=t[0],c=t[1];Object(n.useEffect)((function(){fetch("/api/main",{method:"GET",mode:"cors"}).then((function(e){if(403!==e.status)return e.json().then((function(e){c(e)}));window.location.href="/"}))}),[]),Object(n.useEffect)((function(){var e=setInterval((function(){fetch("/api/main",{method:"GET",mode:"cors"}).then((function(e){if(403!==e.status)return e.json().then((function(e){c(e)}));window.location.href="/"}))}),4500);return function(){clearInterval(e)}}),[]);var a=Object(n.useCallback)((function(){fetch("/api/logout",{method:"POST",mode:"cors",body:JSON.stringify({}),headers:{"Content-Type":"application/json"}}).then((function(e){200===e.status&&(window.location.href="/")}))}),[]),i=Object(n.useCallback)((function(){fetch("/api/send-message",{method:"POST",mode:"cors",body:JSON.stringify({message:"Sis!"}),headers:{"Content-Type":"application/json"}}).then((function(e){if(403!==e.status)return e.json().then((function(e){c(e)}));window.location.href="/"}))}),[]),r=Object(n.useCallback)((function(){fetch("/api/send-message",{method:"POST",mode:"cors",body:JSON.stringify({message:"Bro!"}),headers:{"Content-Type":"application/json"}}).then((function(e){if(403!==e.status)return e.json().then((function(e){c(e)}));window.location.href="/"}))}),[]);return Object(l.jsxs)("div",{className:"container-fuid",children:[Object(l.jsxs)("div",{className:"p-3 row justify-content-center",children:[Object(l.jsxs)("div",{className:"row col-sm-6 justify-content-center align-items-center",children:[Object(l.jsx)("div",{className:"col-sm-auto",children:"Hello: "}),Object(l.jsx)("div",{className:"col-sm-auto",children:Object(l.jsx)("strong",{children:s.userName})})]}),Object(l.jsx)("div",{className:"col-sm-auto",children:Object(l.jsx)("a",{className:"btn btn-danger btn-sm",onClick:a,href:"#",children:"Logout"})})]}),Object(l.jsx)("div",{className:"p-3 row justify-content-center",children:Object(l.jsxs)("div",{className:"row col-sm-auto",children:[Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-sm-auto",children:Object(l.jsx)("small",{children:Object(l.jsx)("em",{children:"Message: "})})}),Object(l.jsx)("div",{className:"col-sm-auto",children:Object(l.jsx)("small",{children:Object(l.jsx)("em",{children:Object(l.jsx)("strong",{children:s.lastMessage.message})})})})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-sm-auto",children:Object(l.jsx)("small",{children:Object(l.jsx)("em",{children:"Send by"})})}),Object(l.jsx)("div",{className:"col-sm-auto",children:Object(l.jsx)("small",{children:Object(l.jsx)("em",{children:Object(l.jsx)("strong",{children:s.lastMessage.userName})})})}),Object(l.jsx)("div",{className:"col-sm-auto",children:Object(l.jsx)("small",{children:Object(l.jsx)("em",{children:new Date(s.lastMessage.date).toLocaleString("ua-UA")})})})]})]})}),Object(l.jsxs)("div",{className:"p-1 row justify-content-center",children:[Object(l.jsx)("div",{className:"col-sm-auto",children:Object(l.jsx)("a",{className:"btn btn-success btn-lg",onClick:i,href:"#",children:"Sis!"})}),Object(l.jsx)("div",{className:"col-sm-auto",children:Object(l.jsx)("a",{className:"btn btn-warning btn-lg",onClick:r,href:"#",children:"Bro!"})})]})]})},j=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,13)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;s(e),n(e),c(e),a(e),i(e)}))};s(11);i.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(r,{})}),document.getElementById("root")),j()},9:function(e,t,s){}},[[12,1,2]]]);
//# sourceMappingURL=main.2fa53c0b.chunk.js.map